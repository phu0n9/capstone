[{"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\index.js":"1","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\App.js":"2","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Homepage.js":"3","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PhotoDisplay.js":"4","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Mapping.js":"5","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SearchBar.js":"6","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\InfinityScroll.js":"7","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\CarStatus.js":"8","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\DroneStatus.js":"9","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Battery.js":"10","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PopUp.js":"11","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\auth0-provider-with-history.js":"12","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Loading.js":"13","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Route\\ProtectedRoute.js":"14","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Upload.js":"15","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Queue.js":"16","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PictureGallery.js":"17","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\HomepageRightBody.js":"18","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Header.js":"19","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Sidebar.js":"20","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Footer.js":"21","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\ControlBox.js":"22","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Status.js":"23","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\HeaderAndSideBar.js":"24","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Profile.js":"25"},{"size":885,"mtime":1630779704537,"results":"26","hashOfConfig":"27"},{"size":630,"mtime":1630846501010,"results":"28","hashOfConfig":"27"},{"size":1859,"mtime":1630779979604,"results":"29","hashOfConfig":"27"},{"size":567,"mtime":1630141254870,"results":"30","hashOfConfig":"27"},{"size":2927,"mtime":1630841403227,"results":"31","hashOfConfig":"27"},{"size":3351,"mtime":1630683370181,"results":"32","hashOfConfig":"27"},{"size":3152,"mtime":1630911918647,"results":"33","hashOfConfig":"27"},{"size":747,"mtime":1630229612157,"results":"34","hashOfConfig":"27"},{"size":855,"mtime":1630230310289,"results":"35","hashOfConfig":"27"},{"size":747,"mtime":1629096843476,"results":"36","hashOfConfig":"27"},{"size":3109,"mtime":1630749045231,"results":"37","hashOfConfig":"27"},{"size":853,"mtime":1631015601679,"results":"38","hashOfConfig":"27"},{"size":258,"mtime":1629126566605,"results":"39","hashOfConfig":"27"},{"size":407,"mtime":1629105669523,"results":"40","hashOfConfig":"27"},{"size":188,"mtime":1629356266110,"results":"41","hashOfConfig":"27"},{"size":4155,"mtime":1630747690078,"results":"42","hashOfConfig":"27"},{"size":4277,"mtime":1630911879646,"results":"43","hashOfConfig":"27"},{"size":7830,"mtime":1630860647103,"results":"44","hashOfConfig":"27"},{"size":1834,"mtime":1630855874187,"results":"45","hashOfConfig":"27"},{"size":3170,"mtime":1630778462636,"results":"46","hashOfConfig":"27"},{"size":180,"mtime":1629566496499,"results":"47","hashOfConfig":"27"},{"size":2541,"mtime":1630699334384,"results":"48","hashOfConfig":"27"},{"size":1870,"mtime":1630257744174,"results":"49","hashOfConfig":"27"},{"size":519,"mtime":1630780003477,"results":"50","hashOfConfig":"27"},{"size":240,"mtime":1630143278525,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"194n2xt",{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"54"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"54"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"54"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"54"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"54"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"54"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"54"},"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\index.js",[],["112","113"],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\App.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Homepage.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PhotoDisplay.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Mapping.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SearchBar.js",["114"],"import React,{useEffect,useState} from 'react'\r\nimport axios from 'axios'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\n\r\nexport default function SearchBar({setDeviceCheck,deviceCheck,setButtonSubmit,buttonSubmit}) {\r\n    const [keyword,setKeyword] = useState(\"\")\r\n    const [userId,setUserId] = useState(\"\")\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n\r\n    const onSearchClickButton = () => {\r\n        if(!deviceCheck){\r\n            alert('Please make sure to choose the device.')\r\n        }\r\n        else {\r\n            setButtonSubmit(true)\r\n            setDeviceCheck(false)\r\n        }\r\n    }\r\n\r\n    const onSearching = (event) =>setKeyword(event.target.value)\r\n\r\n    useEffect(() =>{\r\n        async function getAccessToken(){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                await axios.get('http://localhost:5000/protected',{ //change here\r\n                // await axios.get(heroku+'protected',{ //change here\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then(response => {\r\n                    setUserId(response.data.sub)\r\n                })\r\n                .catch(err => console.log(err))\r\n            }\r\n        }\r\n        getAccessToken()  \r\n    },[getAccessTokenSilently,isAuthenticated])\r\n\r\n    useEffect(() =>{\r\n       \r\n        async function getAccessToken(keyword,userId){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                const headers = {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n                await axios.post('http://localhost:5000/search' //change here\r\n                ,{keyword:keyword,userId:userId},{headers:headers}\r\n                    // url:  heroku+'search', //change here\r\n                ).then(response => {\r\n                    console.log(response)\r\n                })\r\n                .catch(err => console.log(err))\r\n            }\r\n        }\r\n\r\n        var regexp = /^\\d{1,2}\\.\\d{1,2}\\.\\d{1,2}?$/\r\n        if(buttonSubmit === true){\r\n            if (keyword !== \"\" && regexp.test(keyword)){\r\n                getAccessToken(keyword,userId)\r\n                setButtonSubmit(false)\r\n                setKeyword(\"\")\r\n            }\r\n            else if(!regexp.test(keyword)){\r\n                alert(\"Invalid keyword\")\r\n            }\r\n            else{\r\n                alert(\"Please enter a keyword\")\r\n            } \r\n        }\r\n    },[keyword,buttonSubmit,userId,setButtonSubmit,getAccessTokenSilently,isAuthenticated])\r\n\r\n    return (\r\n        <>\r\n            <p className=\"title-text\">SEARCH TOOL</p>\r\n            <input\r\n                type=\"search\"\r\n                placeholder=\"Search inventory\"\r\n                className=\"search-box\"\r\n                onChange={onSearching}\r\n                value={keyword}\r\n            />\r\n            <img src=\"search.png\" alt=\"manifying-glass\" className=\"search-btn\"/>\r\n            <div className=\"radio-btn-wrapper\"></div>\r\n            <button type=\"submit\" className=\"search-btn\" onClick={onSearchClickButton}>SEARCH</button>\r\n        </>\r\n       \r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\InfinityScroll.js",["115"],"import {useEffect,useState} from 'react'\r\nimport axios from 'axios'\r\nimport Pusher from 'pusher-js'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\nrequire('dotenv').config()\r\n\r\nexport default function InfinityScroll(pageNumber,keyword) {\r\n    const [loading,setLoading] = useState(true)\r\n    const [error,setError] = useState(false)\r\n    const [inventory,setInventory] = useState([])\r\n    const [hasMore,setHasMore] = useState(false)       \r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n\r\n   \r\n    // 'http://localhost:5000/inventory'\r\n    useEffect(() =>{\r\n        async function fetchApi(URL,paramsDict){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                await axios({\r\n                    method:'GET',\r\n                    url: URL,\r\n                    params:paramsDict,\r\n                    headers: {\r\n                        authorization:`Bearer ${token}`\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    setInventory(() =>{\r\n                        return [...new Set([...'',...res.data.map(i => i)])]\r\n                    })\r\n                })\r\n                .catch(e =>{\r\n                    setError(true)\r\n                    console.log('Error: '+e)\r\n                })\r\n            }\r\n        }    \r\n        const pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY,{\r\n            'cluster':process.env.REACT_APP_PUSHER_CLUSTER,\r\n            forceTLS: true,\r\n        })\r\n        const channel = pusher.subscribe('tasks')\r\n        channel.bind('inserted',function(){\r\n            fetchApi('http://localhost:5000/inventory',{page:5}) //change here\r\n            // fetchApi(heroku+'inventory',{page:5}) //change here\r\n        })\r\n        return () => channel.unbind('inserted')\r\n    },[isAuthenticated,getAccessTokenSilently])\r\n\r\n    useEffect(() =>{\r\n        async function getPages(){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                setLoading(true)\r\n                setError(false)\r\n                await axios({\r\n                    method:'GET',\r\n                    url: 'http://localhost:5000/inventory', //change here\r\n                    // url: heroku+'inventory', //change here\r\n                    params:{page:pageNumber},\r\n                    headers:{\r\n                        authorization:`Bearer ${token}`\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    setInventory(prevInventory =>{\r\n                        return [...new Set([...prevInventory,...res.data.map(i => i)])]\r\n                    })\r\n                        setHasMore(res.data.length > 0)\r\n                        setLoading(false)\r\n                })\r\n                .catch(e =>{\r\n                    setError(true)\r\n                    console.log('Error: '+e)\r\n                })\r\n            }\r\n        }\r\n        \r\n        getPages()\r\n    },[pageNumber,isAuthenticated,getAccessTokenSilently])\r\n\r\n    return {loading,hasMore,error,inventory}\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\CarStatus.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\DroneStatus.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Battery.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PopUp.js",["116"],"import {useState,useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport Pusher from 'pusher-js'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\n\r\nrequire('dotenv').config()\r\n\r\nexport default function PopUp() {\r\n    const [loading,setLoading] = useState(true)\r\n    const [hasMore,setHasMore] = useState(false)       \r\n    const [queue,setQueue] = useState([])\r\n    const [error,setError] = useState(false)\r\n    const heroku = 'https://schaeffler.herokuapp.com/queue'\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n    \r\n    // 'http://localhost:5000/queue'\r\n    \r\n    useEffect(() =>{\r\n        async function getQueue(){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                setError(false)\r\n                await axios({\r\n                    method:'GET',\r\n                    url: 'http://localhost:5000/queue',//change here\r\n                    // url: heroku,//change here\r\n                    headers: {\r\n                        authorization: `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    setQueue(prevInventory =>{\r\n                        return [...new Set([...prevInventory,...res.data.map(i => i)])]\r\n                    })\r\n                    setHasMore(res.data.length > 0)\r\n                    setLoading(false)\r\n                })\r\n                .catch(e =>{\r\n                    setError(true)\r\n                    console.log('Error: '+e)\r\n                })\r\n            }\r\n        }\r\n        setLoading(true)\r\n        setError(false)\r\n        getQueue()\r\n    },[getAccessTokenSilently,isAuthenticated])\r\n\r\n    useEffect(() =>{\r\n        async function fetchChanges(){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                setError(false)\r\n                axios({\r\n                    method:'GET',\r\n                    url: 'http://localhost:5000/queue',//change here\r\n                    // url: heroku, //change here\r\n                    headers: {\r\n                        authorization: `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    setQueue(() =>{\r\n                        return [...new Set([...'',...res.data.map(i => i)])]\r\n                    })\r\n                })\r\n                .catch(e =>{\r\n                    setError(true)\r\n                    console.log('Error: '+e)\r\n                })\r\n            }\r\n        }\r\n        const pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY,{\r\n            'cluster':process.env.REACT_APP_PUSHER_CLUSTER,\r\n            forceTLS: true,\r\n        })\r\n        const channelTask = pusher.subscribe('tasks')\r\n        channelTask.bind('deleted',function(){\r\n            fetchChanges()\r\n        })\r\n        channelTask.bind('inserted',function(){\r\n            fetchChanges()\r\n        })\r\n        return () => {\r\n            pusher.unsubscribe(channelTask)\r\n        }\r\n    },[getAccessTokenSilently,isAuthenticated])\r\n\r\n    return {queue,error,hasMore,loading}\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\auth0-provider-with-history.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Loading.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Route\\ProtectedRoute.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Upload.js",[],["117","118"],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Queue.js",["119"],"import React,{useCallback,useRef} from 'react'\r\nimport popUp from '../PopUp'\r\nimport axios from 'axios'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\n\r\nexport default function Queue({setQueueOnClick,available,setExecuteOnClick,setRackDes,setRowDes}) {\r\n    const observer = useRef()\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n\r\n    const handleCloseButton = () => {\r\n        setQueueOnClick(false)\r\n    }\r\n\r\n    const {\r\n        queue,\r\n        error,\r\n        loading\r\n    } = popUp()\r\n\r\n    const lastItem= useCallback((node) =>{\r\n        if(loading) return\r\n        if(observer.current) observer.current.disconnect()\r\n        // observer.current = new IntersectionObserver(entries =>{\r\n        //     if(entries[0].isIntersecting && hasMore) \r\n        // setPageNumber(prevInventory => prevInventory + 5)\r\n        // })\r\n        if(node) observer.current.observe(node)\r\n    },[loading])\r\n\r\n    function getPosition(string, subString, index) {\r\n        return string.split(subString, index).join(subString).length;\r\n    }\r\n \r\n    const handleExecuteItem = (async (e)=>{\r\n        const token = await getAccessTokenSilently()\r\n        setExecuteOnClick(true)\r\n        if(isAuthenticated && available){\r\n            setExecuteOnClick(false)\r\n            const url = `http://localhost:5000/queue/execute/${e.target.value}` //change here\r\n            // const url = heroku+`queue/execute/${e.target.value}` //change here\r\n            await axios.get(url,{\r\n                headers: {\r\n                    authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((res)=>{ \r\n                setRowDes(res.data.substring(res.data.indexOf(\".\") + 1,getPosition(res.data,\".\",2)))\r\n                setRackDes(res.data.substring(0,res.data.indexOf(\".\")))\r\n            })\r\n            .catch(error=> {console.log(error)})    \r\n        }\r\n    })\r\n\r\n    const handleCancelItem = (async (e)=>{\r\n        if(isAuthenticated){\r\n            const token = await getAccessTokenSilently()\r\n            const url = `http://localhost:5000/queue/delete/${e.target.value}`//change here\r\n            // const url = heroku+`queue/delete/${e.target.value}`//change here\r\n            await axios.delete(url,{\r\n                headers: {\r\n                    authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n            .catch(error=> {console.log(error)})    \r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"queue-wrapper\">\r\n            <button className=\"close-btn\" onClick={handleCloseButton}><img src=\"close.png\" alt=\"close\" className=\"close-icon\"/></button>\r\n            <p className=\"title-text\">QUEUE COMMAND SEARCH</p>\r\n            <div className=\"queue-slider\">\r\n            {queue.map((item,index)=>{\r\n                if(item.length === index +1){\r\n                    return <div className=\"queue-item\">\r\n                        <p key={item.keyword} ref={lastItem} className=\"keyword-label\">Search location: {item.keyword}</p>\r\n                        <button type=\"button\" className=\"cancel-item-btn\" onClick={handleCancelItem} value={item._id} ref={lastItem}>DELETE</button>\r\n                        <button type=\"button\" className=\"execute-item-btn\" onClick={handleExecuteItem}value={item._id} ref={lastItem}>EXECUTE</button>\r\n                    </div>\r\n                }\r\n                else{\r\n                    return <div className=\"queue-item\" key={(index).toString()}>\r\n                        <p key={(index+1).toString()} className=\"keyword-label\">Search location: {item.keyword}</p>\r\n                        <button key={(index+3).toString()} type=\"button\" onClick={handleCancelItem} className=\"cancel-item-btn\" value={item._id}>DELETE</button>\r\n                        <button key={(index+4).toString()} type=\"button\" onClick={handleExecuteItem} className=\"execute-item-btn\" value={item._id}>EXECUTE</button>\r\n                    </div>\r\n                }\r\n            })}\r\n            <div>{loading && 'Loading...'}</div>\r\n            <div>{error && 'Error'}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PictureGallery.js",["120"],"import React,{useCallback,useState,useRef,useEffect} from 'react'\r\nimport infinityScroll from './InfinityScroll'\r\nimport axios from 'axios'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\nimport PhotoDisplay from './PhotoDisplay'\r\n\r\nexport default function PictureGallery({setClickGallery,setRowClick,setRackClick,keyword,setKeyword}) {\r\n    const observer = useRef()\r\n    const [pageNumber,setPageNumber] = useState(5)\r\n    const [itemLocation,setItemLocation] = useState(\"\")\r\n    const [createAt,setCreateAt] = useState(\"\")\r\n    const [updateAt,setUpdateAt] = useState(\"\")\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n    const [clicked,setClicked] = useState(false)\r\n    const [showImage,setShowImage] = useState(\"\")\r\n    const [clickBiggerImg,setClickBiggerImg] = useState(false)\r\n\r\n    const {\r\n        inventory,\r\n        hasMore,\r\n        error,\r\n        loading\r\n    } = infinityScroll(pageNumber,keyword)\r\n    \r\n\r\n    const lastInventory= useCallback((node) =>{\r\n        if(loading) return\r\n        if(observer.current) observer.current.disconnect()\r\n        observer.current = new IntersectionObserver(entries =>{\r\n            if(entries[0].isIntersecting && hasMore) setPageNumber(prevInventory => prevInventory + 5)\r\n        })\r\n        if(node) observer.current.observe(node)\r\n    },[loading,hasMore])\r\n\r\n    const handlePictureClick = async (id) =>{\r\n        if(isAuthenticated){\r\n            setClicked(true)\r\n            const token = await getAccessTokenSilently()\r\n            await axios.get(`http://localhost:5000/inventory/${id}`,{\r\n                headers:{\r\n                    authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n            .then(res =>{\r\n                setItemLocation(res.data.location)\r\n                setCreateAt(res.data.createdAt)\r\n                setUpdateAt(res.data.updatedAt)\r\n                setShowImage(res.data.photo)\r\n            })\r\n            .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const handleCloseButton = () => {\r\n        setClickGallery(false)\r\n        setClicked(false)\r\n        setRowClick(undefined)\r\n        setRackClick(undefined)\r\n        setKeyword(undefined)\r\n    }\r\n\r\n    const handleBiggerImgClick = () => {\r\n        setClickBiggerImg(true)\r\n    }\r\n\r\n    return ( \r\n        <> \r\n            {clickBiggerImg ? <PhotoDisplay showImage={showImage} setClickBiggerImg ={setClickBiggerImg} setClickGallery={setClickGallery}/>\r\n        : <div className=\"gallery-wrapper\">\r\n            <button className=\"close-btn\" onClick={handleCloseButton}><img src=\"close.png\" alt=\"close\" className=\"close-icon\"/></button>\r\n            <p className=\"title-text\">PICTURE GALLERY</p>\r\n            <div className=\"picture-slider\">\r\n                {inventory.map((item,index)=>{\r\n                    if(inventory.length === index +1){\r\n                        return <img key={index} ref={lastInventory} src={`data:image/png;base64,${item.photo}`} alt=\"sideBarPhoto\" className=\"img-slider\" onClick={() => handlePictureClick(item._id)}/>\r\n                    }\r\n                    else{\r\n                        return <img key={index} src={`data:image/png;base64,${item.photo}`} alt=\"sideBarPhoto\" className=\"img-slider\" onClick={() => handlePictureClick(item._id)}/> \r\n                    }\r\n                })}\r\n                <div>{loading && 'Loading...'}</div>\r\n                <div>{error && 'Error'}</div>\r\n            </div>\r\n            {clicked ?  <div className=\"picture-info\">\r\n                <div className=\"item-info-wrapper\">\r\n                    <div className=\"gallery-btn\">\r\n                        <button className=\"delete-btn\">Delete</button>\r\n                    </div> <br />\r\n                    <div className=\"item-info\">\r\n                        <p>Item location: {itemLocation}</p>\r\n                        <p>Created At: {createAt}</p>\r\n                        <p>Updated At: {updateAt}</p>\r\n                    </div>\r\n                </div>\r\n                    <span>\r\n                        <img src={`data:image/png;base64,${showImage}`} alt=\"item-img\" className=\"item-picture\" onClick={handleBiggerImgClick}/>\r\n                    </span>\r\n            </div>: \"\"}\r\n        </div>\r\n        }\r\n    </>\r\n        \r\n\r\n       \r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\HomepageRightBody.js",["121"],"import React,{useState,useEffect} from 'react'\r\nimport Mapping from './Mapping'\r\nimport ControlBox from './ControlBox'\r\nimport PictureGallery from './PictureGallery'\r\nimport Queue from './Components/Queue'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport {store} from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport Pusher from 'pusher-js'\r\nimport { Steps } from \"intro.js-react\";\r\n\r\nexport default function RightBody({setClickGallery,clickGallery,setQueueOnClick,queueOnClick,setStepsEnabled,stepsEnabled}) {\r\n    const [buttonSubmit,setButtonSubmit] = useState(false)\r\n    const [droneConnection,setDroneConnection] = useState(false)\r\n    const [carConnection,setCarConnection] = useState(false)\r\n    const [available,setAvailable] = useState(undefined)\r\n    const [executeOnClick,setExecuteOnClick] = useState(false)\r\n    const [rowDes,setRowDes] = useState(0)\r\n    const [rackDes,setRackDes] = useState(0)\r\n    const [checkRack,setCheckRack] = useState(undefined)\r\n    const [droneStatus,setDroneStatus] = useState(\"\")\r\n    const [scanned,setScanned] = useState(false)\r\n    const [rowClick,setRowClick] = useState(undefined)\r\n    const [rackClick,setRackClick] = useState(undefined)\r\n    const [keyword,setKeyword] = useState(undefined)\r\n\r\n    //Intro js\r\n    const initialStep = 0\r\n    const steps = ([{\r\n            element: \".header\",\r\n            intro: \"Welcome to Schaeffler Inventory Checking.\"\r\n          },\r\n          {\r\n            element: \".search-sidebar\",\r\n            intro: \"Search your item here. Example: 5.6.7 where 5 is rack,6 is column,7 is row.\"\r\n          },\r\n          {\r\n            element: \".status-wrapper\",\r\n            intro: \"Remember to check the device before submit.\"\r\n          },\r\n          {\r\n            element: \".mapping\",\r\n            intro: \"Click to location to see existing search in the map.\"\r\n          },\r\n          {\r\n            element: \"#picture-gallery\",\r\n            intro: \"Existing picture would be shown here.\"\r\n          },\r\n          {\r\n            element: \"#queue-command\",\r\n            intro: \"List of item command when device is not online would be shown here.\"\r\n          },\r\n          {\r\n            element: \".bx-user\",\r\n            intro: \"User profile\"\r\n          },\r\n          {\r\n              element: \".support-btn\",\r\n              intro: \"End of tour.Click this to start the tour again.\"\r\n          }\r\n    ])\r\n\r\n    useEffect(() =>{\r\n        const pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY,{\r\n            'cluster':process.env.REACT_APP_PUSHER_CLUSTER,\r\n            forceTLS: true,\r\n        })\r\n\r\n        const carMessage  = pusher.subscribe('carMessage')\r\n        carMessage.bind('send',function(data){\r\n            setCarConnection(JSON.parse(data.carConnection))\r\n        })\r\n        const droneMessage  = pusher.subscribe('droneMessage')\r\n        droneMessage.bind('send',function(data){\r\n            setDroneConnection(JSON.parse(data.droneConnection))\r\n        })\r\n\r\n        const availableMessage  = pusher.subscribe('availability')\r\n        availableMessage.bind('keyword',function(data){\r\n            setAvailable(JSON.parse(data))\r\n        })\r\n\r\n        const statusChannel = pusher.subscribe('status')\r\n        statusChannel.bind('rack',function(data){\r\n            setCheckRack(JSON.parse(data))\r\n        })\r\n\r\n        statusChannel.bind('land',function(data){\r\n            setDroneStatus(data.landingStatus)\r\n        })\r\n\r\n        const offlineChannel = pusher.subscribe('message')\r\n        offlineChannel.bind('connection',function(data){\r\n            setCarConnection(data)\r\n            setDroneConnection(data)\r\n        })\r\n\r\n        const scanChannel = pusher.subscribe('status')\r\n        scanChannel.bind('search',function(data){\r\n            setScanned(JSON.parse(data))\r\n        })\r\n\r\n        return () => {\r\n            pusher.unsubscribe(carMessage)\r\n            pusher.unsubscribe(droneMessage)\r\n            pusher.unsubscribe(availableMessage)\r\n            pusher.unsubscribe(statusChannel)\r\n            pusher.unsubscribe(offlineChannel)\r\n            pusher.unsubscribe(scanChannel)\r\n            pusher.disconnect()\r\n        }\r\n    },[])\r\n\r\n    function getNotification(title,message,messageType,duration,width){\r\n        store.addNotification({\r\n            title:title,\r\n            message:message,\r\n            type: messageType,\r\n            container:\"bottom-right\",\r\n            insert:\"bottom\",\r\n            animationIn:[\"animated\",\"fadeIn\"],\r\n            animationOut:[\"animated\",\"fadeOut\"],\r\n            dismiss: {\r\n                duration: duration,\r\n                onScreen: true\r\n            },\r\n            width:width\r\n        })              \r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(buttonSubmit === true && carConnection === false && droneConnection === false){\r\n            getNotification(\"Warning\",\"Device is not online but your search will be saved.\",\"warning\",10000,500)\r\n            setQueueOnClick(true)\r\n        }\r\n        else if(droneConnection && carConnection){\r\n            getNotification(\"Device Status\",\"Car and Drone are online\",\"success\",5000,400)       \r\n        }\r\n    },[buttonSubmit,carConnection,droneConnection,setQueueOnClick])\r\n\r\n    useEffect(() =>{\r\n        if(available === false && executeOnClick){\r\n            getNotification(\"Device Status\",\"Process are being executed. Try again later!\",\"danger\",7000,400)      \r\n            setExecuteOnClick(false) \r\n        }\r\n        else if(available === undefined && executeOnClick){\r\n            getNotification(\"Device Status\",\"Make sure to turn on the device.\",\"danger\",5000,400)      \r\n            setExecuteOnClick(false) \r\n        }\r\n        else if(available === true && carConnection && droneConnection){\r\n            setRackDes(0)\r\n            setRowDes(0)\r\n            getNotification(\"Device Status\",\"Search can be performed now.\",\"success\",5000,400)       \r\n        }\r\n        else if(checkRack === false){\r\n            getNotification(\"Result\",\"You have placed device at the wrong rack.\",\"danger\",10000,400) \r\n            setCheckRack(undefined)      \r\n        }\r\n        else if(droneStatus !== \"\"){\r\n            getNotification(\"Drone status\",\"Drone is \"+droneStatus,\"info\",10000,400)       \r\n        }\r\n        else if(droneStatus === \"landed\"){\r\n            setDroneStatus(\"\")\r\n        }\r\n        else if(scanned){\r\n            getNotification(\"Device status\",\"Drone went to right position\",\"success\",10000,400)       \r\n        }\r\n        console.log(\"available \"+available)\r\n    },[available,executeOnClick,checkRack,droneStatus,droneConnection,carConnection,scanned])\r\n\r\n    const handleOnExit = () => {\r\n        setStepsEnabled(false)\r\n    }\r\n\r\n    useEffect(() =>{\r\n        if(rowClick && rackClick){\r\n            setClickGallery(true)\r\n            setKeyword(rackClick+\".\"+rowClick)\r\n        }\r\n    },[rowClick,rackClick])\r\n\r\n    return (\r\n        <>\r\n            <ControlBox buttonSubmit={buttonSubmit} setButtonSubmit={setButtonSubmit} droneConnection={droneConnection} carConnection={carConnection}/>\r\n            <Mapping rowDes={rowDes} rackDes={rackDes} available={available} setRowClick={setRowClick} setRackClick={setRackClick}/>\r\n            {clickGallery ? <PictureGallery setClickGallery={setClickGallery} setRackClick={setRackClick} setRowClick={setRowClick} keyword={keyword} setKeyword={setKeyword}/>: \"\"}\r\n            {queueOnClick ? <Queue setQueueOnClick={setQueueOnClick} available={available} setExecuteOnClick={setExecuteOnClick} setRackDes={setRackDes} setRowDes={setRowDes}/>: \"\"}\r\n            <ReactNotification/>\r\n            <Steps\r\n            enabled={stepsEnabled}\r\n            steps={steps}\r\n            initialStep={initialStep}\r\n            onExit={handleOnExit}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Header.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Sidebar.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Footer.js",[],["122","123"],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\ControlBox.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Status.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\HeaderAndSideBar.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Profile.js",["124","125"],"import React from 'react'\r\nimport { useAuth0 } from \"@auth0/auth0-react\"\r\n\r\nconst Profile = () => {\r\n  const { user, isAuthenticated } = useAuth0()\r\n\r\n  return (\r\n      <>\r\n        Profile page\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Profile",{"ruleId":"126","replacedBy":"127"},{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","severity":1,"message":"131","line":8,"column":11,"nodeType":"132","messageId":"133","endLine":8,"endColumn":17},{"ruleId":"130","severity":1,"message":"131","line":12,"column":11,"nodeType":"132","messageId":"133","endLine":12,"endColumn":17},{"ruleId":"130","severity":1,"message":"131","line":13,"column":11,"nodeType":"132","messageId":"133","endLine":13,"endColumn":17},{"ruleId":"126","replacedBy":"134"},{"ruleId":"128","replacedBy":"135"},{"ruleId":"130","severity":1,"message":"131","line":10,"column":11,"nodeType":"132","messageId":"133","endLine":10,"endColumn":17},{"ruleId":"130","severity":1,"message":"136","line":1,"column":43,"nodeType":"132","messageId":"133","endLine":1,"endColumn":52},{"ruleId":"137","severity":1,"message":"138","line":180,"column":7,"nodeType":"139","endLine":180,"endColumn":27,"suggestions":"140"},{"ruleId":"126","replacedBy":"141"},{"ruleId":"128","replacedBy":"142"},{"ruleId":"130","severity":1,"message":"143","line":5,"column":11,"nodeType":"132","messageId":"133","endLine":5,"endColumn":15},{"ruleId":"130","severity":1,"message":"144","line":5,"column":17,"nodeType":"132","messageId":"133","endLine":5,"endColumn":32},"no-native-reassign",["145"],"no-negated-in-lhs",["146"],"no-unused-vars","'heroku' is assigned a value but never used.","Identifier","unusedVar",["145"],["146"],"'useEffect' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setClickGallery'. Either include it or remove the dependency array. If 'setClickGallery' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["147"],["145"],["146"],"'user' is assigned a value but never used.","'isAuthenticated' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"148","fix":"149"},"Update the dependencies array to be: [rowClick, rackClick, setClickGallery]",{"range":"150","text":"151"},[6897,6917],"[rowClick, rackClick, setClickGallery]"]