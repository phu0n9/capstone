[{"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\index.js":"1","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\App.js":"2","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Homepage.js":"3","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PhotoDisplay.js":"4","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Mapping.js":"5","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SidebarBox.js":"6","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SearchBar.js":"7","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Login.js":"8","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\InfinityScroll.js":"9","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Setting.js":"10","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\CarStatus.js":"11","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\DroneStatus.js":"12","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Battery.js":"13","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PopUp.js":"14"},{"size":625,"mtime":1625822469913,"results":"15","hashOfConfig":"16"},{"size":545,"mtime":1623495799094,"results":"17","hashOfConfig":"16"},{"size":1641,"mtime":1625335650461,"results":"18","hashOfConfig":"16"},{"size":450,"mtime":1625126299407,"results":"19","hashOfConfig":"16"},{"size":2919,"mtime":1625074204392,"results":"20","hashOfConfig":"16"},{"size":4946,"mtime":1626857336214,"results":"21","hashOfConfig":"16"},{"size":5191,"mtime":1626701459809,"results":"22","hashOfConfig":"16"},{"size":1579,"mtime":1625295801883,"results":"23","hashOfConfig":"16"},{"size":2910,"mtime":1625828428318,"results":"24","hashOfConfig":"16"},{"size":562,"mtime":1626683948765,"results":"25","hashOfConfig":"16"},{"size":3280,"mtime":1626715343378,"results":"26","hashOfConfig":"16"},{"size":1771,"mtime":1626715352950,"results":"27","hashOfConfig":"16"},{"size":747,"mtime":1625128683424,"results":"28","hashOfConfig":"16"},{"size":1491,"mtime":1626685788013,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"194n2xt",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\index.js",[],["64","65"],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\App.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Homepage.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PhotoDisplay.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Mapping.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SidebarBox.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SearchBar.js",["66"],"import React,{useEffect,useState,useCallback,useRef} from 'react'\r\nimport {io} from 'socket.io-client'\r\nimport popUp from './PopUp'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default function SearchBar({userId}) {\r\n  \r\n    const [socket,setSocket] = useState()\r\n    const [pressed,setPress] = useState(false)\r\n    const [keyword,setKeyword] = useState()\r\n    const [buttonClicked,setButtonClicked] = useState(false)\r\n    const [enablePopUp,setEnablePopUp] = useState(false)\r\n    const [cancelBtn,setCancelBtn] = useState(false)\r\n    const observer = useRef()\r\n\r\n     // const [clicked,setClicked] = useState(false)\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n    const {\r\n        queue,\r\n        error,\r\n    } = popUp()\r\n\r\n    const lastItem= useCallback((node) =>{\r\n        if(observer.current) observer.current.disconnect()\r\n        observer.current = new IntersectionObserver(entries =>{\r\n            if(entries[0].isIntersecting) \r\n            console.log(\"here\")\r\n        })\r\n        if(node) observer.current.observe(node)\r\n    },[])\r\n\r\n    // 'http://localhost:5000/'\r\n    useEffect(() => {\r\n        const s = io('http://localhost:5000/')\r\n        setSocket(s)\r\n        return () =>{\r\n            s.disconnect()  \r\n        }\r\n    }, []) \r\n\r\n    const onPress = (event) =>\r\n    {\r\n        if(event.key === 'Enter'){\r\n            setPress(true)\r\n        }\r\n    }\r\n\r\n    const onSearchClickButton = () =>\r\n    {\r\n        // setClicked(true)\r\n        setButtonClicked(true)\r\n    }\r\n\r\n    const onSearching = (event) =>{\r\n        setKeyword(event.target.value);\r\n    }\r\n\r\n    useEffect(() =>{\r\n        if (socket === null || keyword === null) return\r\n\r\n        if((pressed === true ) || (buttonClicked === true)){\r\n            if (keyword !== \"\"){\r\n                const key = {\r\n                    \"keyword\":keyword,\r\n                    \"userId\":userId,\r\n                    \"socketId\":socket.id\r\n                }\r\n                socket.emit(\"begin-search\",key)\r\n                setPress(false)\r\n                setButtonClicked(false)\r\n                setKeyword(\"\")\r\n            }\r\n            else{\r\n                alert(\"Please enter a keyword\")\r\n            } \r\n        }\r\n    },[socket,keyword,pressed,userId,buttonClicked])\r\n    \r\n    useEffect(() =>{\r\n        if(socket == null) return\r\n        const handler = (delta) =>{\r\n            setEnablePopUp(delta)\r\n        }\r\n        socket.on('popup',handler)\r\n\r\n        return () =>{\r\n            socket.off('popup',handler)\r\n        }\r\n    },[socket,enablePopUp])\r\n\r\n    const handleCancelButton = (()=>{\r\n        setCancelBtn(true)\r\n    })\r\n\r\n    const handleExecuteItem = ((e)=>{\r\n        const url = `http://localhost:5000/queue/execute/${e.target.value}`\r\n        axios.get(url)\r\n        .catch(error=> {console.log(error)})    \r\n    })\r\n\r\n    const handleCancelItem = ((e)=>{\r\n        const url = `http://localhost:5000/queue/delete/${e.target.value}`\r\n        axios.delete(url)\r\n        .catch(error=> {console.log(error)})    \r\n    })\r\n\r\n    return (\r\n        <>\r\n            <span >\r\n                <input\r\n                    type=\"search\"\r\n                    placeholder=\"Search inventory\"\r\n                    className=\"search-box\"\r\n                    onChange={onSearching}\r\n                    value={keyword}\r\n                    onKeyPress={onPress}\r\n                />\r\n                <button type=\"button\" className=\"search-btn\" onClick={onSearchClickButton}>          \r\n                    <img src=\"search.png\" alt=\"manifying-glass\" />\r\n                </button>\r\n            </span>\r\n\r\n            {enablePopUp ?  <div className={cancelBtn ? \"popup-hidden\": \"popup-container\"}>\r\n            <button className=\"cancel-button\" onClick={handleCancelButton}>X</button>     \r\n\r\n                <div className=\"queue-container\">\r\n                    {queue.map((item,index)=>{\r\n                        if(item.length === index +1){\r\n                            return <div className=\"queue-item\">\r\n                                <span key={item.keyword} ref={lastItem} >Search location: {item.keyword}</span>\r\n                                <button type=\"button\" className=\"cancel-item-btn\" onClick={handleCancelItem} value={item._id} ref={lastItem}>cancel</button>\r\n                                <button type=\"button\" className=\"execute-item-btn\" onClick={handleExecuteItem} value={item._id} ref={lastItem}>execute</button>\r\n                            </div>\r\n                        }\r\n                        else{\r\n                            return <div className=\"queue-item\">\r\n                                <span key={item.keyword}>Search location: {item.keyword}</span>\r\n                                <button type=\"button\" className=\"cancel-item-btn\" onClick={handleCancelItem} value={item._id}>cancel</button>\r\n                                <button type=\"button\" className=\"execute-item-btn\" onClick={handleExecuteItem} value={item._id}>execute</button>\r\n                            </div>\r\n                        }\r\n                    })}\r\n                    <div>{error && 'Error'}</div>\r\n                </div>\r\n\r\n            </div> : \"\"}\r\n\r\n        </>\r\n       \r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Login.js",["67"],"import React,{useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function Login() {\r\n    const [username, setUserName] = useState()\r\n    const [password, setPassword] = useState()\r\n    const heroku = 'https://schaeffler.herokuapp.com/login'\r\n    // 'http://localhost:5000/login'\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const content = {\r\n          username:username,\r\n          password:password\r\n        }\r\n        await axios.post('http://localhost:5000/login',content)\r\n        .then(data =>{\r\n          if(data.data === 'Incorrect password' || data.data === 'Cannot find user'){\r\n            alert(data.data)\r\n          }\r\n          else{\r\n            localStorage.setItem(\"userId\",data.data)\r\n            window.location = \"/homepage\"\r\n          }\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-wrapper\">\r\n          <div>    </div>\r\n        <form onSubmit={handleSubmit} method=\"post\" action=\"/login\" className=\"form-wrapper\">\r\n        <img src=\"schaeffler-logo.jpg\" className=\"login-logo\" alt=\"login-logo\"/><br></br>\r\n            <input type=\"text\" placeholder=\"username\" className=\"input-style\" onChange={e => setUserName(e.target.value)} required/>\r\n          <br></br>\r\n            <input type=\"password\" placeholder=\"password\" className=\"input-style\" onChange={e => setPassword(e.target.value)} required/>\r\n          <div>\r\n            <button type=\"submit\" className=\"login-btn\">LOGIN</button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n    )\r\n}","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\InfinityScroll.js",["68"],"import {useEffect,useState} from 'react'\r\nimport axios from 'axios'\r\nimport Pusher from 'pusher-js'\r\n\r\nexport default function InfinityScroll(pageNumber,keyword,selection) {\r\n    const [loading,setLoading] = useState(true)\r\n    const [error,setError] = useState(false)\r\n    const [inventory,setInventory] = useState([])\r\n    const [hasMore,setHasMore] = useState(false)       \r\n    const [change,setChange] = useState(false)\r\n    const heroku = 'https://schaeffler.herokuapp.com/inventory'\r\n\r\n    function fetchApi(URL,paramsDict){\r\n        axios({\r\n            method:'GET',\r\n            url: URL,\r\n            params:paramsDict\r\n        })\r\n        .then(res => {\r\n            setInventory(() =>{\r\n                return [...new Set([...'',...res.data.map(i => i)])]\r\n            })\r\n            // setHasMore(res.data.length > 0)\r\n            // setLoading(false)\r\n        })\r\n        .catch(e =>{\r\n            setError(true)\r\n            console.log('Error: '+e)\r\n        })\r\n    }\r\n    \r\n    // 'http://localhost:5000/inventory'\r\n    useEffect(() =>{\r\n        const pusher = new Pusher('2ccb32686bdc0f96f50a',{\r\n            'cluster':'ap1',\r\n            encrypted:true\r\n        })\r\n        const channel = pusher.subscribe('tasks')\r\n        channel.bind('inserted',function(){\r\n            fetchApi('http://localhost:5000/inventory',{page:5})\r\n            setChange(true)\r\n        })\r\n        return () => channel.unbind('inserted')\r\n    },[])\r\n\r\n\r\n    useEffect(() =>{\r\n        if(keyword !== undefined){\r\n            switch(selection){\r\n                case \"location\":\r\n                    fetchApi('http://localhost:5000/sort/sortByLocation',{location:keyword})\r\n                    break\r\n                case \"userId\":\r\n                    fetchApi('http://localhost:5000/sort/sortByUserId',{userId:keyword})\r\n                    break\r\n                case \"date\":\r\n                    fetchApi('http://localhost:5000/sort/sortByTime',{time:keyword})\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        }\r\n    },[keyword,selection])\r\n\r\n    useEffect(() =>{\r\n        setLoading(true)\r\n        setError(false)\r\n        if(keyword === ''){\r\n            axios({\r\n                method:'GET',\r\n                url: 'http://localhost:5000/inventory',\r\n                params:{page:pageNumber}\r\n            })\r\n            .then(res => {\r\n                setInventory(prevInventory =>{\r\n                    return [...new Set([...prevInventory,...res.data.map(i => i)])]\r\n                })\r\n                    setHasMore(res.data.length > 0)\r\n                    setLoading(false)\r\n                    setChange(false)\r\n            })\r\n            .catch(e =>{\r\n                setError(true)\r\n                console.log('Error: '+e)\r\n            })\r\n        }\r\n    },[pageNumber,keyword])\r\n\r\n    return {loading,hasMore,error,inventory,change}\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Setting.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\CarStatus.js",["69","70","71"],"import React,{useEffect,useState} from 'react'\r\nimport {io} from 'socket.io-client'\r\nimport ReactSpeedometer from \"react-d3-speedometer\"\r\nimport Pusher from 'pusher-js'\r\n\r\nexport default function Status() {\r\n    const [socket,setSocket] = useState()\r\n    const [velocity,setVelocity] = useState(0)\r\n    const [location,setLocation] = useState(undefined)\r\n    const [connection,setConnection] = useState(false)\r\n    const [connectTitle,setConnectTitle] = useState('offline')\r\n    const [state,setState] = useState(undefined)\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n    // 'http://localhost:5000/'\r\n    useEffect(() => {\r\n        const s = io('http://localhost:5000/')\r\n        setSocket(s)\r\n        return () =>{\r\n            s.disconnect()  \r\n        }\r\n    }, [])  \r\n\r\n    // useEffect(() =>{\r\n    //     if(socket == null) return\r\n    //     const handler = (delta) =>{\r\n    //         setVelocity(delta['velocity'])\r\n    //         setLocation(delta['current location'])\r\n    //         setConnection(true)\r\n    //         setConnectTitle('online')\r\n\r\n    //     }\r\n    //     socket.on('receive-raspberry',handler)\r\n\r\n    //     return () =>{\r\n    //         socket.off('receive-raspberry',handler)\r\n    //     }\r\n    // },[socket,velocity,location])\r\n\r\n    // useEffect(() =>{\r\n    //     if (socket == null) return \r\n\r\n    //     const handler = (delta) =>{\r\n    //         setConnection(delta)\r\n    //         setConnectTitle('offline')\r\n    //         setVelocity(0)\r\n    //         setLocation(undefined)\r\n    //     }\r\n    //     socket.on('car-offline',handler)\r\n    //     return () =>{\r\n    //         socket.off('car-offline',handler)\r\n    //     }\r\n    // },[socket,connection])\r\n\r\n\r\n    useEffect(() =>{\r\n        const pusher = new Pusher('2ccb32686bdc0f96f50a',{\r\n            'cluster':'ap1',\r\n            encrypted:true\r\n        })\r\n\r\n        const messageChannel  = pusher.subscribe('carMessage')\r\n        messageChannel.bind('send',function(data){\r\n            // console.log(\"this \"+data.message)\r\n            setVelocity(data.velocity)\r\n            setLocation(data.location)\r\n            setConnection(true)\r\n            setConnectTitle('online')\r\n        })\r\n\r\n\r\n        messageChannel.bind('connection',(status)=>{\r\n            setConnection(status)\r\n            setConnectTitle('offline')\r\n            setVelocity(0)\r\n            setLocation(undefined)\r\n            console.log(status)\r\n        })\r\n\r\n        return () => {\r\n            pusher.unsubscribe(messageChannel)\r\n            pusher.disconnect()\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"status-wrapper\">\r\n            <div className=\"img-container\">\r\n                <img src=\"car.png\" alt=\"car-img\" className=\"img-oval\"/>\r\n                <div className={connection ? \"offline-dot online-dot\": \"offline-dot\"}/>\r\n            </div>\r\n            <p>Car is {connectTitle}</p>\r\n            <p>Current location: {location}</p>\r\n            <ReactSpeedometer\r\n            width={150}\r\n            height={100}\r\n            maxValue={50}\r\n            value={velocity}\r\n            needleColor=\"red\"\r\n            startColor=\"green\"\r\n            segments={5}\r\n            endColor=\"blue\"\r\n            />\r\n            <div>{state}</div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\DroneStatus.js",["72","73"],"import React,{useState,useEffect} from 'react'\r\nimport {io} from 'socket.io-client'\r\nimport Battery from './Components/Battery'\r\nimport Pusher from 'pusher-js'\r\n\r\n\r\nexport default function DroneStatus() {\r\n    const [socket,setSocket] = useState()\r\n    const [battery,setBattery] = useState(0)\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n    // 'http://localhost:5000/'\r\n    useEffect(() => {\r\n        const s = io('http://localhost:5000/')\r\n        setSocket(s)\r\n        return () =>{\r\n            s.disconnect()  \r\n        }\r\n    }, [])  \r\n\r\n\r\n    // useEffect(() =>{\r\n    //     if(socket == null) return\r\n\r\n    //     const handler = (delta) =>{\r\n    //         setBattery(delta['battery'])\r\n\r\n    //     }\r\n    //     socket.on('receive-raspberry',handler)\r\n    //     return () =>{\r\n    //         socket.off('receive-raspberry',handler)\r\n    //     }\r\n    // },[socket,battery])\r\n\r\n    useEffect(() =>{\r\n        const pusher = new Pusher('2ccb32686bdc0f96f50a',{\r\n            'cluster':'ap1',\r\n            encrypted:true\r\n        })\r\n\r\n        const messageChannel  = pusher.subscribe('droneMessage')\r\n        messageChannel.bind('send',function(data){\r\n            setBattery(data.battery)\r\n        })\r\n\r\n        messageChannel.bind('connection',(status)=>{\r\n            if(!status) setBattery(0)\r\n        })\r\n        return () => messageChannel.unbind()\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"droneStatus-wrapper\">\r\n            <Battery value={battery}/>\r\n            <div className=\"img-container\" style={{marginTop:\"30px\"}}>\r\n                <img src=\"drone.png\" alt=\"drone-img\" className=\"img-oval\"/>\r\n                <div className=\"offline-dot\"/>\r\n            </div>\r\n            <p>Drone is offline</p>\r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Battery.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PopUp.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":18,"column":11,"nodeType":"80","messageId":"81","endLine":18,"endColumn":17},{"ruleId":"78","severity":1,"message":"79","line":7,"column":11,"nodeType":"80","messageId":"81","endLine":7,"endColumn":17},{"ruleId":"78","severity":1,"message":"79","line":11,"column":11,"nodeType":"80","messageId":"81","endLine":11,"endColumn":17},{"ruleId":"78","severity":1,"message":"82","line":7,"column":12,"nodeType":"80","messageId":"81","endLine":7,"endColumn":18},{"ruleId":"78","severity":1,"message":"83","line":12,"column":18,"nodeType":"80","messageId":"81","endLine":12,"endColumn":26},{"ruleId":"78","severity":1,"message":"79","line":13,"column":11,"nodeType":"80","messageId":"81","endLine":13,"endColumn":17},{"ruleId":"78","severity":1,"message":"82","line":8,"column":12,"nodeType":"80","messageId":"81","endLine":8,"endColumn":18},{"ruleId":"78","severity":1,"message":"79","line":10,"column":11,"nodeType":"80","messageId":"81","endLine":10,"endColumn":17},"no-native-reassign",["84"],"no-negated-in-lhs",["85"],"no-unused-vars","'heroku' is assigned a value but never used.","Identifier","unusedVar","'socket' is assigned a value but never used.","'setState' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]