[{"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\index.js":"1","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\App.js":"2","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Homepage.js":"3","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PhotoDisplay.js":"4","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Mapping.js":"5","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SidebarBox.js":"6","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SearchBar.js":"7","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\InfinityScroll.js":"8","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Setting.js":"9","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\CarStatus.js":"10","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\DroneStatus.js":"11","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Battery.js":"12","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PopUp.js":"13","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Route\\PublicRoute.js":"14","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Route\\PrivateRoute.js":"15","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\LogoutButton.js":"16","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\LoginButton.js":"17","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\HandleLogin.js":"18","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Profile.js":"19"},{"size":989,"mtime":1629020689534,"results":"20","hashOfConfig":"21"},{"size":793,"mtime":1629041770576,"results":"22","hashOfConfig":"21"},{"size":1485,"mtime":1629023711210,"results":"23","hashOfConfig":"21"},{"size":477,"mtime":1627984016243,"results":"24","hashOfConfig":"21"},{"size":633,"mtime":1626861382037,"results":"25","hashOfConfig":"21"},{"size":5275,"mtime":1627972885189,"results":"26","hashOfConfig":"21"},{"size":7140,"mtime":1629025360276,"results":"27","hashOfConfig":"21"},{"size":3007,"mtime":1628161794498,"results":"28","hashOfConfig":"21"},{"size":596,"mtime":1629017542839,"results":"29","hashOfConfig":"21"},{"size":2068,"mtime":1628161784562,"results":"30","hashOfConfig":"21"},{"size":1782,"mtime":1628161789536,"results":"31","hashOfConfig":"21"},{"size":747,"mtime":1625128683424,"results":"32","hashOfConfig":"21"},{"size":2483,"mtime":1628183376044,"results":"33","hashOfConfig":"21"},{"size":386,"mtime":1629039924509,"results":"34","hashOfConfig":"21"},{"size":393,"mtime":1629039918671,"results":"35","hashOfConfig":"21"},{"size":315,"mtime":1629017486347,"results":"36","hashOfConfig":"21"},{"size":335,"mtime":1629015275115,"results":"37","hashOfConfig":"21"},{"size":1739,"mtime":1629017579838,"results":"38","hashOfConfig":"21"},{"size":450,"mtime":1629021603366,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"194n2xt",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\index.js",[],["81","82"],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\App.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Homepage.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PhotoDisplay.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Mapping.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SidebarBox.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\SearchBar.js",["83"],"import React,{useEffect,useState} from 'react'\r\nimport {io} from 'socket.io-client'\r\nimport popUp from './PopUp'\r\nimport axios from 'axios'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\n\r\nexport default function SearchBar() {\r\n  \r\n    const [socket,setSocket] = useState()\r\n    const [pressed,setPress] = useState(false)\r\n    const [keyword,setKeyword] = useState(\"\")\r\n    const [buttonClicked,setButtonClicked] = useState(false)\r\n    const [enablePopUp,setEnablePopUp] = useState(false)\r\n    const [cancelBtn,setCancelBtn] = useState(false)\r\n    const [enableSearching,setEnableSearching] = useState(false)\r\n    const [enableLanding,setEnableLanding] = useState(false)\r\n    const [userId,setUserId] = useState(\"\")\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n    const {\r\n        queue,\r\n        error,\r\n        landingStatus,searchStatus\r\n    } = popUp()\r\n\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n\r\n    useEffect(()=>{\r\n        async function getAccessToken(){\r\n            if(isAuthenticated){\r\n                    const token = await getAccessTokenSilently()\r\n                    await axios.get('http://localhost:5000/protected',{\r\n                        headers: {\r\n                            authorization:`Bearer ${token}`\r\n                        }\r\n                    })\r\n                    .then(response => setUserId(response.data))\r\n                    .catch(err => console.log(err))\r\n            }\r\n        }\r\n        getAccessToken()        \r\n    },[getAccessTokenSilently,isAuthenticated])\r\n\r\n    // 'http://localhost:5000/'\r\n    useEffect(() => {\r\n        const s = io('http://localhost:5000/')\r\n        setSocket(s)\r\n        return () =>{\r\n            s.disconnect()  \r\n        }\r\n    }, []) \r\n\r\n    const onPress = (event) =>\r\n    {\r\n        if(event.key === 'Enter'){\r\n            setPress(true)\r\n        }\r\n    }\r\n\r\n    const onSearchClickButton = () =>\r\n    {\r\n        setButtonClicked(true)\r\n    }\r\n\r\n    const onSearching = (event) =>{\r\n        setKeyword(event.target.value);\r\n    }\r\n\r\n    useEffect(() =>{\r\n        if (socket === null) return\r\n\r\n        if((pressed === true ) || (buttonClicked === true)){\r\n            if (keyword !== \"\"){\r\n                const key = {\r\n                    \"keyword\":keyword,\r\n                    \"userId\":userId,\r\n                    \"socketId\":socket.id\r\n                }\r\n                socket.emit(\"begin-search\",key)\r\n                setPress(false)\r\n                setButtonClicked(false)\r\n                setKeyword(\"\")\r\n            }\r\n            else{\r\n                alert(\"Please enter a keyword\")\r\n            } \r\n        }\r\n    },[socket,keyword,pressed,buttonClicked,userId])\r\n    \r\n    useEffect(() =>{\r\n        if(socket == null) return\r\n        const handler = (delta) =>{\r\n            setEnablePopUp(delta)\r\n            setCancelBtn(false)\r\n        }\r\n        socket.on('popup',handler)\r\n\r\n        return () =>{\r\n            socket.off('popup',handler)\r\n        }\r\n    },[socket,enablePopUp])\r\n\r\n    useEffect(() =>{\r\n        if(searchStatus === \"available\"){\r\n            setEnableSearching(false)\r\n        }\r\n        else if(searchStatus === \"searching\"){\r\n            setEnableSearching(true)\r\n        }\r\n        else{\r\n            setEnableSearching(false)\r\n        }\r\n    },[searchStatus])\r\n\r\n    useEffect(() =>{\r\n        if(landingStatus === \"up\"){\r\n            setEnableLanding(false)\r\n        }\r\n        else if(landingStatus === \"down\"){\r\n            setEnableLanding(true)\r\n        }\r\n        else{\r\n            setEnableLanding(false)\r\n        }\r\n    },[landingStatus])\r\n\r\n    useEffect(() =>{\r\n        if(enableSearching){\r\n            setEnablePopUp(false)\r\n            setEnableLanding(false)\r\n        }\r\n        else if(enableLanding){\r\n            setEnablePopUp(false)\r\n            setEnableSearching(false)\r\n        }\r\n    },[enableSearching,enableLanding])\r\n\r\n    const handleCancelButton = (()=>{\r\n        setCancelBtn(true)\r\n        setEnablePopUp(false)\r\n    })\r\n\r\n    const handleExecuteItem = ((e)=>{\r\n        const url = `http://localhost:5000/queue/execute/${e.target.value}`\r\n        axios.get(url)\r\n        .then(()=>{ setEnableSearching(true)})\r\n        .catch(error=> {console.log(error)})    \r\n    })\r\n\r\n    const handleCancelItem = ((e)=>{\r\n        const url = `http://localhost:5000/queue/delete/${e.target.value}`\r\n        axios.delete(url)\r\n        .catch(error=> {console.log(error)})    \r\n    })\r\n\r\n    return (\r\n        <>\r\n            <span >\r\n                <input\r\n                    type=\"search\"\r\n                    placeholder=\"Search inventory\"\r\n                    className=\"search-box\"\r\n                    onChange={onSearching}\r\n                    value={keyword}\r\n                    onKeyPress={onPress}\r\n                />\r\n                <button type=\"button\" className=\"search-btn\" onClick={onSearchClickButton}>          \r\n                    <img src=\"search.png\" alt=\"manifying-glass\" />\r\n                </button>\r\n            </span>\r\n\r\n            {enablePopUp ?  <div className={cancelBtn ? \"popup-hidden\": \"popup-container\"}>\r\n            <button className=\"cancel-button\" onClick={handleCancelButton}>X</button>     \r\n\r\n                <div className=\"queue-container\">\r\n                    {queue.map((item,index)=>{\r\n                        // if(item.length === index +1){\r\n                        //     return <div className=\"queue-item\">\r\n                        //         <span key={item.keyword} ref={lastItem} >Search location: {item.keyword}</span>\r\n                        //         <button type=\"button\" className=\"cancel-item-btn\" onClick={handleCancelItem} value={item._id} ref={lastItem}>cancel</button>\r\n                        //         <button type=\"button\" className=\"execute-item-btn\" onClick={handleExecuteItem} value={item._id} ref={lastItem}>execute</button>\r\n                        //     </div>\r\n                        // }\r\n                        // else{\r\n                            return <div className=\"queue-item\" key={(index).toString()}>\r\n                                <span key={(index+1).toString()}>Search location: {item.keyword}</span>\r\n                                <button key={(index+2).toString()} type=\"button\" className=\"cancel-item-btn\" onClick={handleCancelItem} value={item._id}>cancel</button>\r\n                                <button key={(index+3).toString()} type=\"button\" className=\"execute-item-btn\" onClick={handleExecuteItem} value={item._id}>execute</button>\r\n                            </div>\r\n                        // }\r\n                    })}\r\n                    <div>{error && 'Error'}</div>\r\n                </div>\r\n\r\n            </div> : \"\"}\r\n            {enableSearching ?\r\n            <div className=\"popup-container\">\r\n                <img className=\"search-gif\" src=\"search-gif.gif\" alt=\"search-gif\" />\r\n                <p className=\"search-text\">Searching for item</p>\r\n            </div> \r\n            : \"\"}\r\n            {enableLanding ? <div className=\"popup-container\">{landingStatus}</div>: \"\"}\r\n            \r\n            \r\n        </>\r\n       \r\n    )\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\InfinityScroll.js",["84"],"import {useEffect,useState} from 'react'\r\nimport axios from 'axios'\r\nimport Pusher from 'pusher-js'\r\nrequire('dotenv').config()\r\n\r\nexport default function InfinityScroll(pageNumber,keyword,selection) {\r\n    const [loading,setLoading] = useState(true)\r\n    const [error,setError] = useState(false)\r\n    const [inventory,setInventory] = useState([])\r\n    const [hasMore,setHasMore] = useState(false)       \r\n    const [change,setChange] = useState(false)\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n\r\n    function fetchApi(URL,paramsDict){\r\n        axios({\r\n            method:'GET',\r\n            url: URL,\r\n            params:paramsDict\r\n        })\r\n        .then(res => {\r\n            setInventory(() =>{\r\n                return [...new Set([...'',...res.data.map(i => i)])]\r\n            })\r\n            // setHasMore(res.data.length > 0)\r\n            // setLoading(false)\r\n        })\r\n        .catch(e =>{\r\n            setError(true)\r\n            console.log('Error: '+e)\r\n        })\r\n    }\r\n    \r\n    // 'http://localhost:5000/inventory'\r\n    useEffect(() =>{\r\n        const pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY,{\r\n            'cluster':process.env.REACT_APP_PUSHER_CLUSTER,\r\n            forceTLS: true,\r\n        })\r\n        const channel = pusher.subscribe('tasks')\r\n        channel.bind('inserted',function(){\r\n            console.log(\"updated\")\r\n            fetchApi('http://localhost:5000/inventory',{page:5})\r\n            setChange(true)\r\n        })\r\n        return () => channel.unbind('inserted')\r\n    },[])\r\n\r\n\r\n    useEffect(() =>{\r\n        if(keyword !== undefined){\r\n            switch(selection){\r\n                case \"location\":\r\n                    fetchApi('http://localhost:5000/sort/sortByLocation',{location:keyword})\r\n                    break\r\n                case \"userId\":\r\n                    fetchApi('http://localhost:5000/sort/sortByUserId',{userId:keyword})\r\n                    break\r\n                case \"date\":\r\n                    fetchApi('http://localhost:5000/sort/sortByTime',{time:keyword})\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        }\r\n    },[keyword,selection])\r\n\r\n    useEffect(() =>{\r\n        setLoading(true)\r\n        setError(false)\r\n        if(keyword === ''){\r\n            axios({\r\n                method:'GET',\r\n                url: 'http://localhost:5000/inventory',\r\n                params:{page:pageNumber}\r\n            })\r\n            .then(res => {\r\n                setInventory(prevInventory =>{\r\n                    return [...new Set([...prevInventory,...res.data.map(i => i)])]\r\n                })\r\n                    setHasMore(res.data.length > 0)\r\n                    setLoading(false)\r\n                    setChange(false)\r\n            })\r\n            .catch(e =>{\r\n                setError(true)\r\n                console.log('Error: '+e)\r\n            })\r\n        }\r\n    },[pageNumber,keyword])\r\n\r\n    return {loading,hasMore,error,inventory,change}\r\n}\r\n","C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Setting.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\CarStatus.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\DroneStatus.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Battery.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\PopUp.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Route\\PublicRoute.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Route\\PrivateRoute.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\LogoutButton.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\LoginButton.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\HandleLogin.js",[],"C:\\Users\\Admin\\Downloads\\capstone\\schaeffler\\client\\src\\Components\\Profile.js",["85"],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":18,"column":11,"nodeType":"92","messageId":"93","endLine":18,"endColumn":17},{"ruleId":"90","severity":1,"message":"91","line":12,"column":11,"nodeType":"92","messageId":"93","endLine":12,"endColumn":17},{"ruleId":"90","severity":1,"message":"94","line":3,"column":8,"nodeType":"92","messageId":"93","endLine":3,"endColumn":18},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"no-unused-vars","'heroku' is assigned a value but never used.","Identifier","unusedVar","'JSONPretty' is defined but never used.","no-global-assign","no-unsafe-negation"]