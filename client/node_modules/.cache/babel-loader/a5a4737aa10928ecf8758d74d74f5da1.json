{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\capstone\\\\schaeffler\\\\client\\\\src\\\\Components\\\\Queue.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useRef, useState } from 'react';\nimport popUp from '../PopUp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Queue({\n  setQueueOnClick\n}) {\n  _s();\n\n  const observer = useRef();\n  const [pageNumber, setPageNumber] = useState(5);\n\n  const handleCloseButton = () => {\n    setQueueOnClick(false);\n  };\n\n  const {\n    queue,\n    error,\n    loading,\n    hasMore\n  } = popUp(pageNumber);\n  const lastItem = useCallback(node => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore) setPageNumber(prevInventory => prevInventory + 5);\n    });\n    if (node) observer.current.observe(node);\n  }, [loading, hasMore]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"queue-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"close-btn\",\n      onClick: handleCloseButton,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"close.png\",\n        alt: \"close\",\n        className: \"close-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 71\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"queue-slider\",\n      children: [queue.map((item, index) => {\n        if (item.length === index + 1) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"queue-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              ref: lastItem,\n              children: [\"Search location: \", item.keyword]\n            }, item.keyword, true, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-item-btn\",\n              value: item._id,\n              ref: lastItem,\n              children: \"cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"execute-item-btn\",\n              value: item._id,\n              ref: lastItem,\n              children: \"execute\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 28\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"queue-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Search location: \", item.keyword]\n            }, (index + 1).toString(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-item-btn\",\n              value: item._id,\n              children: \"cancel\"\n            }, (index + 2).toString(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"execute-item-btn\",\n              value: item._id,\n              children: \"execute\"\n            }, (index + 3).toString(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 25\n            }, this)]\n          }, index.toString(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 28\n          }, this);\n        }\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: loading && 'Loading...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: error && 'Error'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Queue, \"NOOr1Dyb/Kt2iOQuDhP5vY8VAJE=\");\n\n_c = Queue;\n\nvar _c;\n\n$RefreshReg$(_c, \"Queue\");","map":{"version":3,"sources":["C:/Users/Admin/Downloads/capstone/schaeffler/client/src/Components/Queue.js"],"names":["React","useCallback","useRef","useState","popUp","Queue","setQueueOnClick","observer","pageNumber","setPageNumber","handleCloseButton","queue","error","loading","hasMore","lastItem","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevInventory","observe","map","item","index","length","keyword","_id","toString"],"mappings":"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","sourcesContent":["import React,{useCallback,useRef,useState} from 'react'\r\nimport popUp from '../PopUp'\r\n\r\nexport default function Queue({setQueueOnClick}) {\r\n    const observer = useRef()\r\n    const [pageNumber,setPageNumber] = useState(5)\r\n    const handleCloseButton = () => {\r\n        setQueueOnClick(false)\r\n    }\r\n\r\n    const {\r\n        queue,\r\n        error,\r\n        loading,hasMore\r\n    } = popUp(pageNumber)\r\n\r\n    const lastItem= useCallback((node) =>{\r\n        if(loading) return\r\n        if(observer.current) observer.current.disconnect()\r\n        observer.current = new IntersectionObserver(entries =>{\r\n            if(entries[0].isIntersecting && hasMore) setPageNumber(prevInventory => prevInventory + 5)\r\n        })\r\n        if(node) observer.current.observe(node)\r\n    },[loading,hasMore])\r\n\r\n    return (\r\n        <div className=\"queue-wrapper\">\r\n            <button className=\"close-btn\" onClick={handleCloseButton}><img src=\"close.png\" alt=\"close\" className=\"close-icon\"/></button>\r\n            <div className=\"queue-slider\">\r\n            {queue.map((item,index)=>{\r\n                if(item.length === index +1){\r\n                    return <div className=\"queue-item\">\r\n                        <span key={item.keyword} ref={lastItem} >Search location: {item.keyword}</span>\r\n                        <button type=\"button\" className=\"cancel-item-btn\" value={item._id} ref={lastItem}>cancel</button>\r\n                        <button type=\"button\" className=\"execute-item-btn\" value={item._id} ref={lastItem}>execute</button>\r\n                    </div>\r\n                }\r\n                else{\r\n                    return <div className=\"queue-item\" key={(index).toString()}>\r\n                        <span key={(index+1).toString()}>Search location: {item.keyword}</span>\r\n                        <button key={(index+2).toString()} type=\"button\" className=\"cancel-item-btn\" value={item._id}>cancel</button>\r\n                        <button key={(index+3).toString()} type=\"button\" className=\"execute-item-btn\" value={item._id}>execute</button>\r\n                    </div>\r\n                }\r\n            })}\r\n                            <div>{loading && 'Loading...'}</div>\r\n            <div>{error && 'Error'}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}