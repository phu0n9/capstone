{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\capstone\\\\schaeffler\\\\client\\\\src\\\\Setting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Upload from './Components/Upload';\nimport Queue from './Components/Queue';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Setting({\n  setQueueOnClick,\n  setUploadOnClick\n}) {\n  _s();\n\n  const [userPicture, setUserPicture] = useState(\"\");\n  const {\n    isAuthenticated,\n    getAccessTokenSilently\n  } = useAuth0();\n  const heroku = 'https://schaeffler.herokuapp.com/';\n  useEffect(() => {\n    async function getAccessToken() {\n      if (isAuthenticated) {\n        const token = await getAccessTokenSilently(); // await axios.get('http://localhost:5000/protected',{//change here\n\n        await axios.get(heroku + 'protected', {\n          //change here\n          headers: {\n            authorization: `Bearer ${token}`\n          }\n        }).then(response => {\n          setUserPicture(response.data.picture);\n        }).catch(err => console.log(err));\n      }\n    }\n\n    getAccessToken();\n  }, [getAccessTokenSilently, isAuthenticated]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dropdown\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: userPicture,\n      alt: \"user\",\n      className: \"img-wrapper\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-content\",\n      children: [/*#__PURE__*/_jsxDEV(Upload, {\n        setUploadOnClick: setUploadOnClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Queue, {\n        setQueueOnClick: setQueueOnClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LogoutButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Setting, \"4pa8tm+vhvQINSqvvyWp7YGQZEs=\", false, function () {\n  return [useAuth0];\n});\n\n_c = Setting;\n\nvar _c;\n\n$RefreshReg$(_c, \"Setting\");","map":{"version":3,"sources":["C:/Users/Admin/Downloads/capstone/schaeffler/client/src/Setting.js"],"names":["React","useState","useEffect","Upload","Queue","useAuth0","axios","Setting","setQueueOnClick","setUploadOnClick","userPicture","setUserPicture","isAuthenticated","getAccessTokenSilently","heroku","getAccessToken","token","get","headers","authorization","then","response","data","picture","catch","err","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAAQC,QAAR,QAAuB,oBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,OAAT,CAAiB;AAACC,EAAAA,eAAD;AAAiBC,EAAAA;AAAjB,CAAjB,EAAqD;AAAA;;AAChE,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA+BV,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM;AAACW,IAAAA,eAAD;AAAiBC,IAAAA;AAAjB,MAA2CR,QAAQ,EAAzD;AACA,QAAMS,MAAM,GAAG,mCAAf;AAEAZ,EAAAA,SAAS,CAAC,MAAK;AACX,mBAAea,cAAf,GAA+B;AAC3B,UAAGH,eAAH,EAAmB;AACf,cAAMI,KAAK,GAAG,MAAMH,sBAAsB,EAA1C,CADe,CAEf;;AACA,cAAMP,KAAK,CAACW,GAAN,CAAUH,MAAM,GAAC,WAAjB,EAA6B;AAAC;AAEhCI,UAAAA,OAAO,EAAE;AACLC,YAAAA,aAAa,EAAE,UAASH,KAAM;AADzB;AAFsB,SAA7B,EAMLI,IANK,CAMAC,QAAQ,IAAI;AACdV,UAAAA,cAAc,CAACU,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAd;AACH,SARK,EASLC,KATK,CASCC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CATR,CAAN;AAUH;AACJ;;AACDV,IAAAA,cAAc;AACjB,GAlBQ,EAkBP,CAACF,sBAAD,EAAwBD,eAAxB,CAlBO,CAAT;AAoBA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACI;AAAK,MAAA,GAAG,EAAEF,WAAV;AAAuB,MAAA,GAAG,EAAC,MAA3B;AAAkC,MAAA,SAAS,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,gBAAgB,EAAED;AAA1B;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,KAAD;AAAO,QAAA,eAAe,EAAED;AAAxB;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH;;GAnCuBD,O;UAE6BF,Q;;;KAF7BE,O","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport Upload from './Components/Upload'\r\nimport Queue from './Components/Queue'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\nimport axios from 'axios'\r\n\r\nexport default function Setting({setQueueOnClick,setUploadOnClick}) {\r\n    const [userPicture,setUserPicture] = useState(\"\")\r\n    const {isAuthenticated,getAccessTokenSilently} = useAuth0()\r\n    const heroku = 'https://schaeffler.herokuapp.com/'\r\n\r\n    useEffect(() =>{\r\n        async function getAccessToken(){\r\n            if(isAuthenticated){\r\n                const token = await getAccessTokenSilently()\r\n                // await axios.get('http://localhost:5000/protected',{//change here\r\n                await axios.get(heroku+'protected',{//change here\r\n\r\n                    headers: {\r\n                        authorization:`Bearer ${token}`\r\n                    }\r\n                })\r\n                .then(response => {\r\n                    setUserPicture(response.data.picture)\r\n                })\r\n                .catch(err => console.log(err))\r\n            }\r\n        }\r\n        getAccessToken()  \r\n    },[getAccessTokenSilently,isAuthenticated])\r\n\r\n    return (\r\n        <div className=\"dropdown\">\r\n            <img src={userPicture} alt=\"user\" className=\"img-wrapper\"/>\r\n            <div className=\"dropdown-content\">\r\n                <Upload setUploadOnClick={setUploadOnClick}/>\r\n                <Queue setQueueOnClick={setQueueOnClick}/>\r\n                <LogoutButton/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}